# RAVN Observability Platform Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# DEPLOYMENT ENVIRONMENT
# =============================================================================
ENVIRONMENT=local
STORAGE_TYPE=filesystem  # filesystem | s3 | gcs

# =============================================================================
# SERVICE PORTS
# =============================================================================
GRAFANA_PORT=3030
ALLOY_OTLP_GRPC_PORT=4317
ALLOY_OTLP_HTTP_PORT=4318
ALLOY_UI_PORT=12345
MIMIR_PORT=9009
LOKI_PORT=3100
TEMPO_PORT=3200

# =============================================================================
# SECURITY
# =============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme_admin_password

# TLS (enable for production)
TLS_ENABLED=false

# =============================================================================
# DATABASE MONITORING
# =============================================================================
DB_DSN=postgresql://postgres:postgres@host.docker.internal:5432/yourdb?sslmode=disable

# =============================================================================
# DATA STORAGE
# =============================================================================
# AWS S3 (set when STORAGE_TYPE=s3)
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_BUCKET_LOGS=
S3_BUCKET_TRACES=
S3_BUCKET_METRICS=

# Google Cloud (set when STORAGE_TYPE=gcs)
GCS_BUCKET_LOGS=
GCS_BUCKET_TRACES=
GCS_BUCKET_METRICS=

# =============================================================================
# DATA RETENTION
# =============================================================================
LOKI_RETENTION_HOURS=168     # 7 days
TEMPO_RETENTION_HOURS=336    # 14 days
MIMIR_RETENTION_HOURS=8760   # 365 days

# =============================================================================
# PERFORMANCE
# =============================================================================
# Ingestion rate limits
LOKI_INGESTION_RATE_MB=4
LOKI_INGESTION_BURST_MB=6
TEMPO_INGESTION_RATE_MB=100
TEMPO_INGESTION_BURST_MB=200
MIMIR_INGESTION_RATE=50000
MIMIR_INGESTION_BURST=100000

# =============================================================================
# ADVANCED SETTINGS (usually don't need to change)
# =============================================================================
LOG_LEVEL=info

# Service hostnames (for internal communication)
MIMIR_HOST=mimir
LOKI_HOST=loki
TEMPO_HOST=tempo
MIMIR_INTERNAL_PORT=9009
LOKI_INTERNAL_PORT=3100
TEMPO_INTERNAL_PORT=4317

# Replication factors (1 for single-node, 3 for HA)
LOKI_REPLICATION_FACTOR=1
TEMPO_REPLICATION_FACTOR=1
MIMIR_REPLICATION_FACTOR=1

# Key-value store type (inmemory for single-node, etcd/consul for HA)
KVSTORE_TYPE=inmemory

# Multi-tenancy
MULTITENANCY_ENABLED=false
DEFAULT_TENANT=anonymous